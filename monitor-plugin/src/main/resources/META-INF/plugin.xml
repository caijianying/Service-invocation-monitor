<idea-plugin>
    <id>com.caijy.plugin</id>
    <vendor url="https://blog.caijy.top/" email="XiaoBaiCai5811@163.com"/>
    <name>Service Invocation Monitor</name>
    <description><![CDATA[
        This is a lightweight Idea plug-in that monitors the link calls of Junit and SpringBoot applications and counts the time spent on interface methods with zero intrusion. It helps developers see the timing of the call chain more visually when debugging code, and optimizes performance ahead of time.
        <br/>
        <br/>è¿™æ˜¯ä¸€æ¬¾è½»é‡çº§çš„Ideaæ’ä»¶ï¼Œä¹Ÿæ˜¯æˆ‘ä¸ªäººå¼€å‘çš„ç¬¬ä¸€ä¸ªæ’ä»¶ã€‚
        <br/>
        <br/>å¯ä»¥é›¶ä¾µå…¥åœ°åšåˆ°å¯¹SpringBootåº”ç”¨ç¨‹åºè°ƒç”¨é“¾è·¯çš„ç›‘æ§ï¼Œç»Ÿè®¡æ¥å£æ–¹æ³•çš„è€—æ—¶ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨è°ƒè¯•ä»£ç æ—¶æ›´ç›´è§‚åœ°çœ‹åˆ°è°ƒç”¨é“¾çš„æ—¶é—´ï¼Œæå‰å¯¹æ€§èƒ½åšä¸€äº›ä¼˜åŒ–å¤„ç†ã€‚
        <br/>
        <br/>å¦‚æœè§‰å¾—æ’ä»¶å¥½ç”¨ï¼Œæ„Ÿè°¢ç»™ä¸ªå¥½è¯„ï¼ğŸ™ğŸ™ğŸ™ å¤§å®¶çš„è®¤å¯æ˜¯æ’ä»¶æ›´æ–°çš„åŠ¨åŠ›ï¼</a>
        <br/>æ’ä»¶åœ°å€ï¼š<a href="https://github.com/caijianying/Service-invocation-monitor">https://github.com/caijianying/Service-invocation-monitor</a>
        <br/>æ¼”ç¤ºé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/caijianying/Service-invocation-monitor-demo">https://github.com/caijianying/Service-invocation-monitor-demo</a>
        ]]></description>
    <vendor>å°ç™½èœ</vendor>

    <change-notes><![CDATA[
        <h3>V20240301</h3>
        <ul>
            <li>fix some bugs</li>
        </ul>

        <h3>V20240301</h3>
        <ul>
            <li>ä¿®å¤äº†ä¸€äº›bug</li>
        </ul>

        <h3>V20240228</h3>
        <ul>
            <li>Support asynchronous link collection, support Runnable, Callable to create asynchronous threads</li>
        </ul>

        <h3>V20240228</h3>
        <ul>
            <li>æ”¯æŒå¼‚æ­¥é“¾è·¯é‡‡é›†ï¼Œæ”¯æŒRunnableã€Callableæ–¹å¼åˆ›å»ºå¼‚æ­¥çº¿ç¨‹</li>
        </ul>

        <h3>V20230106</h3>
        <ul>
            <li>Support MVC, Spring, Dubbo link tracing</li>
            <li>You can view trace links in an independent window</li>
            <li>Parameter configuration of idea plugin is supportedï¼šPreferences -> tools -> Service Invocation Monitor
            </li>
        </ul>

        <h3>V20230106</h3>
        <ul>
            <li>æ”¯æŒMVCã€Springã€Dubboé“¾è·¯è¿½è¸ª</li>
            <li>æ”¯æŒé€šè¿‡ç‹¬ç«‹çª—å£ï¼ŒæŸ¥çœ‹traceé“¾è·¯</li>
            <li>æ”¯æŒideaæ’ä»¶å‚æ•°é…ç½®ï¼šPreferences -> tools -> Service Invocation Monitor</li>
        </ul>

        <h3>V1.0.6</h3>
        <ul>
            <li>Added Idea configuration entry for time-consuming optionsï¼šPreferences -> tools -> Service Invocation
                Monitor
            </li>
        </ul>

        <h3>V1.0.6</h3>
        <ul>
            <li>ä¸ºé«˜è€—æ—¶é€‰é¡¹å¢åŠ Ideaé…ç½®å…¥å£ï¼šPreferences -> tools -> Service Invocation Monitor</li>
        </ul>
        <h3>V1.0.5</h3>
        <ul>
            <li>fix: Fixed an issue where the monitoring package name was read incorrectly when starting the SpringBoot
                test case
            </li>
            <li>fix: Fixed an issue where the latest version of Idea could not download the plugin</li>
            <li>The IDEA plugin is optimized to monitor the startup command</li>
        </ul>

        <h3>V1.0.5</h3>
        <ul>
            <li>fix: ä¿®å¤äº†å¯åŠ¨SpringBootçš„æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œè¯»å–ç›‘æ§åŒ…åæœ‰è¯¯çš„é—®é¢˜</li>
            <li>fix: ä¿®å¤äº†Ideaæœ€æ–°ç‰ˆæœ¬ä¸‹è½½ä¸äº†æ’ä»¶çš„é—®é¢˜</li>
            <li>ä¼˜åŒ–äº†ideaæ’ä»¶å¯¹å¯åŠ¨å‘½ä»¤çš„ç›‘æ§</li>
        </ul>

        <h3>V1.0.4</h3>
        <ul>
            <li>High time-consuming and low time-consuming links are displayed in different colors. By default, the link
                that is higher than [100 milliseconds] is judged to be a high time-consuming link. You can specify a
                specific value through the vm parameter ã€-Dmonitor.timeCost.threshold=100ã€‘ in milliseconds.
            </li>
            <li>The SpringBoot project uses the [package name where the startup class is located] by default, and the
                package name can be specified by the Vm parameter ã€-Dmonitor.packageã€‘
            </li>
            <li>Code structure adjustment</li>
        </ul>

        <h3>V1.0.4</h3>
        <ul>
            <li>é«˜è€—æ—¶å’Œä½è€—æ—¶çš„é“¾è·¯ï¼Œä¸åŒé¢œè‰²åŒºåˆ†æ˜¾ç¤ºã€‚é»˜è®¤åˆ¤æ–­é«˜äºã€100æ¯«ç§’ã€‘çš„é“¾è·¯ä¸ºé«˜è€—æ—¶é“¾è·¯ï¼Œå¯é€šè¿‡vmå‚æ•°ã€-Dmonitor.timeCost.threshold=100ã€‘æŒ‡å®šå…·ä½“æ•°å€¼ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚</li>
            <li>SpringBooté¡¹ç›®é»˜è®¤ä½¿ç”¨ã€å¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…åã€‘ï¼ŒåŒ…åå¯é€šè¿‡Vmå‚æ•°ã€-Dmonitor.packageã€‘æŒ‡å®š</li>
            <li>ä»£ç ç»“æ„è°ƒæ•´</li>
        </ul>

        <h3>V1.0.3-fix</h3>
        <ul>
            <li>fixed some bugs</li>
        </ul>

        <h3>V1.0.3-fix</h3>
        <ul>
            <li>ä¿®å¤äº†ä¸€äº›bug</li>
        </ul>

        <h3>V1.0.3</h3>
        <ul>
            <li>Help users to see the trace link display more intuitively</li>
        </ul>

        <h3>V1.0.3</h3>
        <ul>
            <li>å¸®åŠ©ä½¿ç”¨è€…æ›´ç›´è§‚åœ°çœ‹åˆ°traceé“¾è·¯æ˜¾ç¤º</li>
        </ul>

        <h3>V1.0.2</h3>
        <ul>
            <li>Optimized the way the method tree is calculated</li>
        </ul>

        <h3>V1.0.2</h3>
        <ul>
            <li>ä¼˜åŒ–äº†æ–¹æ³•æ ‘çš„è®¡ç®—æ–¹å¼</li>
        </ul>

        <h3>V1.0.1</h3>
        <ul>
            <li>fix. The bug that the plugin reports a wide range of errors in a multi-threaded environment</li>
            <li>Useless method calls within the Spring framework and JDK are filtered out during statistics</li>
            <li>Filter out the useless method calls of mybatis-plus during statistics</li>
            <li>Support Spring Annotation @Service and @RestController</li>
        </ul>

        <h3>V1.0.1</h3>
        <ul>
            <li>fix.å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ’ä»¶å¤§èŒƒå›´æŠ¥é”™çš„bug</li>
            <li>ç»Ÿè®¡æ—¶è¿‡æ»¤äº†Springæ¡†æ¶å’ŒJDKå†…éƒ¨æ— ç”¨çš„æ–¹æ³•è°ƒç”¨</li>
            <li>ç»Ÿè®¡æ—¶è¿‡æ»¤äº†mybatis-plusæ— ç”¨çš„æ–¹æ³•è°ƒç”¨</li>
            <li>æ”¯æŒSpringæ³¨è§£ï¼Œ @Service å’Œ @RestController</li>
        </ul>

        <h3>V1.0.0</h3>
        <ul>
            <li>Support monitoring junit use cases</li>
            <li>Support SpringBoot application monitoring</li>
            <li>Monitoring indicator: The time of the trace link</li>
        </ul>
        ]]>
    </change-notes>


    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <java.programPatcher implementation="com.caijy.plugin.patcher.AgentPatcher"/>
        <applicationConfigurable parentId="tools" instance="com.caijy.plugin.config.ToolsConfiguration"
                                 id="com.caijy.plugin.config.ToolsConfiguration"
                                 displayName="Service Invocation Monitor"/>
        <!--æ•°æ®æŒä¹…åŒ–æ‰©å±•ç‚¹-->
        <applicationService serviceImplementation="com.caijy.plugin.config.ToolsSetting"/>

        <toolWindow factoryClass="com.caijy.plugin.ui.MonitorOutputToolWindow"
                    id="Monitor" icon="/icons/Monitor.svg" anchor="bottom"/>
    </extensions>

    <actions>
        <action class="com.caijy.plugin.action.MonitorOutPutWindowAction" icon="/icons/Monitor.svg"
                description="Show all trace log" text="Show all trace log">
            <!-- æ·»åŠ åˆ°é¼ æ ‡å³é”®èœå•ä¸­ -->
            <add-to-group group-id="ConsoleEditorPopupMenu" anchor="first"/>
        </action>

    </actions>

    <!--suppress PluginXmlValidity -->
    <projectListeners>
        <listener class="com.caijy.plugin.listener.MonitorOutPutToolWindowListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener"/>
    </projectListeners>
</idea-plugin>